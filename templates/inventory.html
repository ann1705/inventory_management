{% extends "base.html" %}

{% block title %}Inventory - Grocery Store{% endblock %}

{% block content %}
<div class="inventory-container">
    <h1>Inventory Management</h1>
    
    {% if categories %}
        {% for category, products in categories.items() %}
        <div class="category-section">
            <h2>{{ category }}</h2>
            <table class="inventory-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Product Name</th>
                        <th>Price</th>
                        <th>Stock</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for product in products %}
                    <tr class="{% if product.stock < 10 %}low-stock{% endif %}">
                        <td>{{ product.id }}</td>
                        <td>{{ product.name }}</td>
                        <td>â‚±{{ "%.2f"|format(product.price) }}</td>
                        <td>{{ product.stock }}</td>
                        <td class="actions">
                            <a href="{{ url_for('update_product', id=product.id) }}" class="btn btn-edit">Edit</a>
                            <a href="{{ url_for('delete_product', id=product.id) }}" class="btn btn-delete" onclick="return confirm('Are you sure you want to delete this product?')">Delete</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endfor %}
    {% else %}
        <p class="no-data">No products in inventory. <a href="{{ url_for('add_product') }}">Add your first product</a></p>
    {% endif %}
</div>
{% endblock %}